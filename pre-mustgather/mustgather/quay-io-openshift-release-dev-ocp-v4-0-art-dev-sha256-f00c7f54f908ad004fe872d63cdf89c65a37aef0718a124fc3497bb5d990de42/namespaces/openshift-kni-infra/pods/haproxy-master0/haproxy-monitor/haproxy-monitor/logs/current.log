2025-11-17T09:33:21.833252740Z time="2025-11-17T09:33:21Z" level=info msg="API is not reachable through HAProxy"
2025-11-17T09:33:21.834066439Z time="2025-11-17T09:33:21Z" level=info msg="Failed to get client config" err="invalid configuration: [unable to read client-cert /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory, unable to read client-key /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory]"
2025-11-17T09:33:21.834107074Z time="2025-11-17T09:33:21Z" level=info msg="An error occurred while trying to read XXXXXX nodes details from api-vip:kube-apiserver: invalid configuration: [unable to read client-cert /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory, unable to read client-key /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory]"
2025-11-17T09:33:21.834126219Z time="2025-11-17T09:33:21Z" level=info msg="Trying to read XXXXXX nodes details from localhost:kube-apiserver"
2025-11-17T09:33:21.834828175Z time="2025-11-17T09:33:21Z" level=info msg="Failed to get client config" err="invalid configuration: [unable to read client-cert /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory, unable to read client-key /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory]"
2025-11-17T09:33:21.834861081Z time="2025-11-17T09:33:21Z" level=error msg="Failed to retrieve API members information" kubeconfigPath=/var/lib/kubelet/kubeconfig
2025-11-17T09:33:21.834880274Z time="2025-11-17T09:33:21Z" level=info msg="GetLBConfig failed, sleep half of interval and retry" kubeconfigPath=/var/lib/kubelet/kubeconfig
2025-11-17T09:33:24.837976233Z time="2025-11-17T09:33:24Z" level=info msg="Failed to get client config" err="invalid configuration: [unable to read client-cert /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory, unable to read client-key /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory]"
2025-11-17T09:33:24.838048483Z time="2025-11-17T09:33:24Z" level=info msg="An error occurred while trying to read XXXXXX nodes details from api-vip:kube-apiserver: invalid configuration: [unable to read client-cert /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory, unable to read client-key /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory]"
2025-11-17T09:33:24.838068551Z time="2025-11-17T09:33:24Z" level=info msg="Trying to read XXXXXX nodes details from localhost:kube-apiserver"
2025-11-17T09:33:24.840579416Z time="2025-11-17T09:33:24Z" level=info msg="Failed to get client config" err="invalid configuration: [unable to read client-cert /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory, unable to read client-key /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory]"
2025-11-17T09:33:24.840579416Z time="2025-11-17T09:33:24Z" level=error msg="Failed to retrieve API members information" kubeconfigPath=/var/lib/kubelet/kubeconfig
2025-11-17T09:33:24.840616795Z time="2025-11-17T09:33:24Z" level=info msg="GetLBConfig failed, sleep half of interval and retry" kubeconfigPath=/var/lib/kubelet/kubeconfig
2025-11-17T09:33:27.841938357Z time="2025-11-17T09:33:27Z" level=info msg="Failed to get client config" err="invalid configuration: [unable to read client-cert /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory, unable to read client-key /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory]"
2025-11-17T09:33:27.841938357Z time="2025-11-17T09:33:27Z" level=info msg="An error occurred while trying to read XXXXXX nodes details from api-vip:kube-apiserver: invalid configuration: [unable to read client-cert /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory, unable to read client-key /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory]"
2025-11-17T09:33:27.841938357Z time="2025-11-17T09:33:27Z" level=info msg="Trying to read XXXXXX nodes details from localhost:kube-apiserver"
2025-11-17T09:33:27.842613186Z time="2025-11-17T09:33:27Z" level=info msg="Failed to get client config" err="invalid configuration: [unable to read client-cert /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory, unable to read client-key /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory]"
2025-11-17T09:33:27.842613186Z time="2025-11-17T09:33:27Z" level=error msg="Failed to retrieve API members information" kubeconfigPath=/var/lib/kubelet/kubeconfig
2025-11-17T09:33:27.842623920Z time="2025-11-17T09:33:27Z" level=info msg="GetLBConfig failed, sleep half of interval and retry" kubeconfigPath=/var/lib/kubelet/kubeconfig
2025-11-17T09:33:30.845767533Z time="2025-11-17T09:33:30Z" level=info msg="Failed to get client config" err="invalid configuration: [unable to read client-cert /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory, unable to read client-key /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory]"
2025-11-17T09:33:30.845767533Z time="2025-11-17T09:33:30Z" level=info msg="An error occurred while trying to read XXXXXX nodes details from api-vip:kube-apiserver: invalid configuration: [unable to read client-cert /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory, unable to read client-key /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory]"
2025-11-17T09:33:30.845767533Z time="2025-11-17T09:33:30Z" level=info msg="Trying to read XXXXXX nodes details from localhost:kube-apiserver"
2025-11-17T09:33:30.846340416Z time="2025-11-17T09:33:30Z" level=info msg="Failed to get client config" err="invalid configuration: [unable to read client-cert /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory, unable to read client-key /var/lib/kubelet/pki/kubelet-client-current.pem for default-auth due to open /var/lib/kubelet/pki/kubelet-client-current.pem: no such file or directory]"
2025-11-17T09:33:30.846340416Z time="2025-11-17T09:33:30Z" level=error msg="Failed to retrieve API members information" kubeconfigPath=/var/lib/kubelet/kubeconfig
2025-11-17T09:33:30.846340416Z time="2025-11-17T09:33:30Z" level=info msg="GetLBConfig failed, sleep half of interval and retry" kubeconfigPath=/var/lib/kubelet/kubeconfig
2025-11-17T09:33:33.864581869Z time="2025-11-17T09:33:33Z" level=info msg="Config change detected" configChangeCtr=1 curConfig="{6443 9445 29445 [{XXXXXX1 XXXXXXXXXXX 6443} {XXXXXX2 XXXXXXXXXXX 6443}] }"
2025-11-17T09:33:39.897405507Z time="2025-11-17T09:33:39Z" level=info msg="Config change detected" configChangeCtr=1 curConfig="{6443 9445 29445 [{XXXXXX0 XXXXXXXXXXX 6443} {XXXXXX1 XXXXXXXXXXX 6443} {XXXXXX2 XXXXXXXXXXX 6443}] }"
2025-11-17T09:33:45.930348388Z time="2025-11-17T09:33:45Z" level=info msg="Config change detected" configChangeCtr=2 curConfig="{6443 9445 29445 [{XXXXXX0 XXXXXXXXXXX 6443} {XXXXXX1 XXXXXXXXXXX 6443} {XXXXXX2 XXXXXXXXXXX 6443}] }"
2025-11-17T09:33:51.965892009Z time="2025-11-17T09:33:51Z" level=info msg="Config change detected" configChangeCtr=3 curConfig="{6443 9445 29445 [{XXXXXX0 XXXXXXXXXXX 6443} {XXXXXX1 XXXXXXXXXXX 6443} {XXXXXX2 XXXXXXXXXXX 6443}] }"
2025-11-17T09:33:51.965892009Z time="2025-11-17T09:33:51Z" level=info msg="Apply config change" curConfig="{6443 9445 29445 [{XXXXXX0 XXXXXXXXXXX 6443} {XXXXXX1 XXXXXXXXXXX 6443} {XXXXXX2 XXXXXXXXXXX 6443}] }"
2025-11-17T09:33:51.966460457Z time="2025-11-17T09:33:51Z" level=info msg=global
2025-11-17T09:33:51.966460457Z time="2025-11-17T09:33:51Z" level=info msg="  stats socket /var/lib/haproxy/run/haproxy.sock  mode 600 level admin expose-fd listeners"
2025-11-17T09:33:51.966460457Z time="2025-11-17T09:33:51Z" level=info msg=defaults
2025-11-17T09:33:51.966473026Z time="2025-11-17T09:33:51Z" level=info msg="  maxconn 20000"
2025-11-17T09:33:51.966473026Z time="2025-11-17T09:33:51Z" level=info msg="  mode    tcp"
2025-11-17T09:33:51.966478795Z time="2025-11-17T09:33:51Z" level=info msg="  log     /var/run/haproxy/haproxy-log.sock local0 notice alert"
2025-11-17T09:33:51.966485526Z time="2025-11-17T09:33:51Z" level=info msg="  log-format \"%ci:%cp -> %fi:%fp [%t] %ft %b/%s %Tw/%Tc/%Tt %B %ts %ac/%fc/%bc/%sc/%rc %sq/%bq\""
2025-11-17T09:33:51.966490505Z time="2025-11-17T09:33:51Z" level=info msg="  option  dontlognull"
2025-11-17T09:33:51.966495609Z time="2025-11-17T09:33:51Z" level=info msg="  retries 3"
2025-11-17T09:33:51.966500626Z time="2025-11-17T09:33:51Z" level=info msg="  timeout http-request 30s"
2025-11-17T09:33:51.966505546Z time="2025-11-17T09:33:51Z" level=info msg="  timeout queue        1m"
2025-11-17T09:33:51.966510454Z time="2025-11-17T09:33:51Z" level=info msg="  timeout connect      10s"
2025-11-17T09:33:51.966515313Z time="2025-11-17T09:33:51Z" level=info msg="  timeout client       86400s"
2025-11-17T09:33:51.966521760Z time="2025-11-17T09:33:51Z" level=info msg="  timeout server       86400s"
2025-11-17T09:33:51.966526619Z time="2025-11-17T09:33:51Z" level=info msg="  timeout tunnel       86400s"
2025-11-17T09:33:51.966531707Z time="2025-11-17T09:33:51Z" level=info msg="frontend  main"
2025-11-17T09:33:51.966536684Z time="2025-11-17T09:33:51Z" level=info msg="  bind :::9445 v4v6"
2025-11-17T09:33:51.966541571Z time="2025-11-17T09:33:51Z" level=info msg="  default_backend XXXXXXs"
2025-11-17T09:33:51.966547931Z time="2025-11-17T09:33:51Z" level=info msg="listen health_check_http_url"
2025-11-17T09:33:51.966552872Z time="2025-11-17T09:33:51Z" level=info msg="  bind :::9444 v4v6"
2025-11-17T09:33:51.966559197Z time="2025-11-17T09:33:51Z" level=info msg="  mode http"
2025-11-17T09:33:51.966564234Z time="2025-11-17T09:33:51Z" level=info msg="  monitor-uri /haproxy_ready"
2025-11-17T09:33:51.966577375Z time="2025-11-17T09:33:51Z" level=info msg="  option dontlognull"
2025-11-17T09:33:51.966577375Z time="2025-11-17T09:33:51Z" level=info msg="listen stats"
2025-11-17T09:33:51.966577375Z time="2025-11-17T09:33:51Z" level=info msg="  bind localhost:29445"
2025-11-17T09:33:51.966583056Z time="2025-11-17T09:33:51Z" level=info msg="  mode http"
2025-11-17T09:33:51.966588161Z time="2025-11-17T09:33:51Z" level=info msg="  stats enable"
2025-11-17T09:33:51.966593104Z time="2025-11-17T09:33:51Z" level=info msg="  stats hide-version"
2025-11-17T09:33:51.966597952Z time="2025-11-17T09:33:51Z" level=info msg="  stats uri /haproxy_stats"
2025-11-17T09:33:51.966602852Z time="2025-11-17T09:33:51Z" level=info msg="  stats refresh 30s"
2025-11-17T09:33:51.966609215Z time="2025-11-17T09:33:51Z" level=info msg="  stats auth Username:Password"
2025-11-17T09:33:51.966614116Z time="2025-11-17T09:33:51Z" level=info msg="backend XXXXXXs"
2025-11-17T09:33:51.966619018Z time="2025-11-17T09:33:51Z" level=info msg="   timeout check 10s"
2025-11-17T09:33:51.966623990Z time="2025-11-17T09:33:51Z" level=info msg="   option  httpchk GET /readyz HTTP/1.0"
2025-11-17T09:33:51.966630297Z time="2025-11-17T09:33:51Z" level=info msg="   balance roundrobin"
2025-11-17T09:33:51.966636666Z time="2025-11-17T09:33:51Z" level=info msg="   server XXXXXX0 XXXXXXXXXXX:6443 weight 1 verify none check check-ssl inter 5s fall 3 rise 1"
2025-11-17T09:33:51.966642945Z time="2025-11-17T09:33:51Z" level=info msg="   server XXXXXX1 XXXXXXXXXXX:6443 weight 1 verify none check check-ssl inter 5s fall 3 rise 1"
2025-11-17T09:33:51.966649260Z time="2025-11-17T09:33:51Z" level=info msg="   server XXXXXX2 XXXXXXXXXXX:6443 weight 1 verify none check check-ssl inter 5s fall 3 rise 1"
2025-11-17T09:33:51.966655530Z time="2025-11-17T09:33:51Z" level=info
2025-11-17T09:33:51.966669099Z time="2025-11-17T09:33:51Z" level=info msg="Runtimecfg rendering template" path=/etc/haproxy/haproxy.cfg
2025-11-17T09:34:10.085667483Z time="2025-11-17T09:34:10Z" level=info msg="API is reachable through HAProxy"
2025-11-17T09:34:10.092965665Z time="2025-11-17T09:34:10Z" level=info msg="Inserting nat PREROUTING rule" spec="--dst XXXXXXXXXX0 -p tcp --dport 6443 -j REDIRECT --to-ports 9445 -m comment --comment OCP_API_LB_REDIRECT"
2025-11-17T09:34:10.121250204Z time="2025-11-17T09:34:10Z" level=info msg="Inserting nat OUTPUT rule" spec="--dst XXXXXXXXXX0 -p tcp --dport 6443 -j REDIRECT --to-ports 9445 -m comment --comment OCP_API_LB_REDIRECT -o lo"
2025-11-17T09:34:10.132475302Z time="2025-11-17T09:34:10Z" level=info msg="Inserting nat PREROUTING rule" spec="--dst 2620:52:0:2e1a::10 -p tcp --dport 6443 -j REDIRECT --to-ports 9445 -m comment --comment OCP_API_LB_REDIRECT"
2025-11-17T09:34:10.140022735Z time="2025-11-17T09:34:10Z" level=info msg="Inserting nat OUTPUT rule" spec="--dst 2620:52:0:2e1a::10 -p tcp --dport 6443 -j REDIRECT --to-ports 9445 -m comment --comment OCP_API_LB_REDIRECT -o lo"
2025-11-17T09:35:28.375954768Z time="2025-11-17T09:35:28Z" level=info msg="Failed to get XXXXXX Nodes list" err="Get \"https://api-int.hlxcl51.XXXXXXXXXXXXXXXXXXXXXXX:6443/api/v1/nodes?labelSelector=node-role.kubernetes.io%2FXXXXXX%3D\": net/http: request canceled (Client.Timeout exceeded while awaiting headers)"
2025-11-17T09:35:28.375954768Z time="2025-11-17T09:35:28Z" level=info msg="An error occurred while trying to read XXXXXX nodes details from api-vip:kube-apiserver: Get \"https://api-int.hlxcl51.XXXXXXXXXXXXXXXXXXXXXXX:6443/api/v1/nodes?labelSelector=node-role.kubernetes.io%2FXXXXXX%3D\": net/http: request canceled (Client.Timeout exceeded while awaiting headers)"
2025-11-17T09:35:28.375954768Z time="2025-11-17T09:35:28Z" level=info msg="Trying to read XXXXXX nodes details from localhost:kube-apiserver"
2025-11-17T09:35:28.378191803Z time="2025-11-17T09:35:28Z" level=info msg="Failed to get XXXXXX Nodes list" err="Get \"https://localhost:6443/api/v1/nodes?labelSelector=node-role.kubernetes.io%2FXXXXXX%3D\": dial tcp [::1]:6443: connect: connection refused"
2025-11-17T09:35:28.378191803Z time="2025-11-17T09:35:28Z" level=error msg="Failed to retrieve API members information" kubeconfigPath=/var/lib/kubelet/kubeconfig
2025-11-17T09:35:28.378191803Z time="2025-11-17T09:35:28Z" level=info msg="GetLBConfig failed, sleep half of interval and retry" kubeconfigPath=/var/lib/kubelet/kubeconfig
2025-11-17T09:35:45.403150637Z time="2025-11-17T09:35:45Z" level=info msg="Failed to get XXXXXX Nodes list" err="Get \"https://api-int.hlxcl51.XXXXXXXXXXXXXXXXXXXXXXX:6443/api/v1/nodes?labelSelector=node-role.kubernetes.io%2FXXXXXX%3D\": EOF"
2025-11-17T09:35:45.403150637Z time="2025-11-17T09:35:45Z" level=info msg="An error occurred while trying to read XXXXXX nodes details from api-vip:kube-apiserver: Get \"https://api-int.hlxcl51.XXXXXXXXXXXXXXXXXXXXXXX:6443/api/v1/nodes?labelSelector=node-role.kubernetes.io%2FXXXXXX%3D\": EOF"
2025-11-17T09:35:45.403150637Z time="2025-11-17T09:35:45Z" level=info msg="Trying to read XXXXXX nodes details from localhost:kube-apiserver"
2025-11-17T09:35:45.405338445Z time="2025-11-17T09:35:45Z" level=info msg="Failed to get XXXXXX Nodes list" err="Get \"https://localhost:6443/api/v1/nodes?labelSelector=node-role.kubernetes.io%2FXXXXXX%3D\": dial tcp [::1]:6443: connect: connection refused"
2025-11-17T09:35:45.405338445Z time="2025-11-17T09:35:45Z" level=error msg="Failed to retrieve API members information" kubeconfigPath=/var/lib/kubelet/kubeconfig
2025-11-17T09:35:45.405338445Z time="2025-11-17T09:35:45Z" level=info msg="GetLBConfig failed, sleep half of interval and retry" kubeconfigPath=/var/lib/kubelet/kubeconfig
2025-11-17T09:35:58.427604130Z time="2025-11-17T09:35:58Z" level=info msg="Failed to get XXXXXX Nodes list" err="Get \"https://api-int.hlxcl51.XXXXXXXXXXXXXXXXXXXXXXX:6443/api/v1/nodes?labelSelector=node-role.kubernetes.io%2FXXXXXX%3D\": EOF"
2025-11-17T09:35:58.427604130Z time="2025-11-17T09:35:58Z" level=info msg="An error occurred while trying to read XXXXXX nodes details from api-vip:kube-apiserver: Get \"https://api-int.hlxcl51.XXXXXXXXXXXXXXXXXXXXXXX:6443/api/v1/nodes?labelSelector=node-role.kubernetes.io%2FXXXXXX%3D\": EOF"
2025-11-17T09:35:58.427604130Z time="2025-11-17T09:35:58Z" level=info msg="Trying to read XXXXXX nodes details from localhost:kube-apiserver"
2025-11-17T09:35:58.428835666Z time="2025-11-17T09:35:58Z" level=info msg="Failed to get XXXXXX Nodes list" err="Get \"https://localhost:6443/api/v1/nodes?labelSelector=node-role.kubernetes.io%2FXXXXXX%3D\": dial tcp [::1]:6443: connect: connection refused"
2025-11-17T09:35:58.428835666Z time="2025-11-17T09:35:58Z" level=error msg="Failed to retrieve API members information" kubeconfigPath=/var/lib/kubelet/kubeconfig
2025-11-17T09:35:58.428845570Z time="2025-11-17T09:35:58Z" level=info msg="GetLBConfig failed, sleep half of interval and retry" kubeconfigPath=/var/lib/kubelet/kubeconfig
2025-11-17T09:36:11.452967109Z time="2025-11-17T09:36:11Z" level=info msg="Failed to get XXXXXX Nodes list" err="Get \"https://api-int.hlxcl51.XXXXXXXXXXXXXXXXXXXXXXX:6443/api/v1/nodes?labelSelector=node-role.kubernetes.io%2FXXXXXX%3D\": EOF"
2025-11-17T09:36:11.452967109Z time="2025-11-17T09:36:11Z" level=info msg="An error occurred while trying to read XXXXXX nodes details from api-vip:kube-apiserver: Get \"https://api-int.hlxcl51.XXXXXXXXXXXXXXXXXXXXXXX:6443/api/v1/nodes?labelSelector=node-role.kubernetes.io%2FXXXXXX%3D\": EOF"
2025-11-17T09:36:11.452967109Z time="2025-11-17T09:36:11Z" level=info msg="Trying to read XXXXXX nodes details from localhost:kube-apiserver"
2025-11-17T09:36:11.455326587Z time="2025-11-17T09:36:11Z" level=info msg="Failed to get XXXXXX Nodes list" err="Get \"https://localhost:6443/api/v1/nodes?labelSelector=node-role.kubernetes.io%2FXXXXXX%3D\": dial tcp [::1]:6443: connect: connection refused"
2025-11-17T09:36:11.455326587Z time="2025-11-17T09:36:11Z" level=error msg="Failed to retrieve API members information" kubeconfigPath=/var/lib/kubelet/kubeconfig
2025-11-17T09:36:11.455326587Z time="2025-11-17T09:36:11Z" level=info msg="GetLBConfig failed, sleep half of interval and retry" kubeconfigPath=/var/lib/kubelet/kubeconfig
